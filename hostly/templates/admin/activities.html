{% include 'admin/admin_header.html' %}


<center>
    <h1>Activities</h1>    
    <form action="" method="post">
        {% csrf_token %}
        <table class="table" style="width: 500px;">
            <tr>
                <th>Student</th>
                <td> 
                    <select name="student" required>
                        <option value="" selected disabled>Select Student</option>
                        {% for student in data %}
                            <option value="{{ student.id }}">{{ student.student_name }}</option>
                        {% endfor %}
                    </select>
                </td>
           </tr>
           <tr>
               <td colspan="2" align="center">
                   <input class="btn btn-success" type="submit" name="submit" value="View Activities">
               </td>
           </tr>
        </table>
    </form>
</center>

<!-- Attendance Section -->
<center>
    <h1>Attendance</h1>
    {% if data1 %}
        <table class="table">
            <tr>
                <th>Sl No</th>
                <th>Student</th>
                <th>Date</th>
                <th>Status</th>
            </tr>
            {% for record in data1 %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ record.STUDENT.student_name }}</td>
                    <td>{{ record.date }}</td>
                    <td>{{ record.status }}</td>
                </tr>
            {% endfor %}
        </table>
    {% else %}
        <h4>No Attendance Details Available</h4>
    {% endif %}
</center>

<!-- Maintenance Section -->
<center>
    <h1>Maintenance</h1>
    {% if data2 %}
        <table class="table">
            <tr>
                <th>Sl No</th>
                <th>Student</th>
                <th>Description</th>
                <th>Status</th>
                <th>Report Date</th>
                <th>Resolve Date</th>
                <th>Student Status</th>
            </tr>
            {% for record in data2 %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ record.STUDENT.student_name }}</td>
                    <td>{{ record.description }}</td>
                    <td>{{ record.status }}</td>
                    <td>{{ record.reported_date }}</td>
                    <td>{{ record.resolved_date }}</td>
                    <td>{{ record.student_status }}</td>
                </tr>
            {% endfor %}
        </table>
    {% else %}
        <h4>No Maintenance Details Available</h4>
    {% endif %}
</center>

<!-- Check In Check Out Section -->
<center>
    <h1>Check In Check Out</h1>
    {% if data3 %}
        <table class="table">
            <tr>
                <th>Sl No</th>
                <th>Student</th>
                <th>Check Out</th>
                <th>Check In</th>
                <!-- <th>Reason</th> -->
                <th>Status</th>
            </tr>
            {% for record in data3 %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ record.STUDENT.student_name }}</td>
                    <td>{{ record.c_out_datetime }}</td>
                    <td>{{ record.c_in_datetime }}</td>
                    <td>{{ record.reason }}</td>
                    <td>{{ record.status }}</td>
                </tr>
            {% endfor %}
        </table>
    {% else %}
        <h4>No Check-In Check-Out Details Available</h4>
    {% endif %}
</center>

<!-- Add On Time Section -->
<center>
    <h1>Add On Time</h1>
    {% if data4 %}
        <table class="table">
            <tr>
                <th>Sl No</th>
                <th>Student</th>
                <th>Estimated Time</th>
                <!-- <th>Reason</th> -->
                <th>Status</th>
            </tr>
            {% for record in data4 %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ record.CHECKINCHECKOUT.STUDENT.student_name }}</td>
                    <td>{{ record.estimated_time }}</td>
                    <td>{{ record.reason }}</td>
                    <td>{{ record.status }}</td>
                </tr>
            {% endfor %}
        </table>
    {% else %}
        <h4>No Add-On Time Details Available</h4>
    {% endif %}
</center>
{% include 'admin/admin_footer.html' %}